const convertirJsaPhp=()=>{const e=document.getElementById("texto").value.trim();if(!e)return void Swal.fire({icon:"warning",title:"Error",text:"Por favor, introduce código en el campo de entrada."});try{new Function(e)}catch(e){return void Swal.fire({icon:"error",title:"Error",text:"El código JS tiene errores de sintaxis."})}let t=[],r=e.replace(/\blet\s+(\w+)\s*=\s*(.*?);/g,(e,r,o)=>(t.push(r),`${r} = ${o};`)).replace(/\bconst\s+(\w+)\s*=\s*(.*?);/g,"define('$1',$2);").replace(/\bvar\s+(\w+)\s*=\s*(.*?);/g,"$$$1 = $2;").replace(/\[(.*?)\]/g,"array($1)").replace(/console\.log\((.*?)\);/g,"echo $1;").replace(/function\s+(\w+)\((.*?)\)\s*{/g,"function $1($2) {").replace(/class\s+(\w+)\s*{/g,"class $1 {").replace(/constructor\((.*?)\)\s*{/g,"public function __construct($1) {").replace(/this\.(\w+)/g,"$this->$1").replace(/new\s+(\w+)\((.*?)\)/g,"$$1 = new $1($2);").replace(/console\.log\(`(.*?)\${(.*?)}(.*?)`\);/g,'echo "$1$2$3";').replace(/const\s+(\w+)\s*=\s*\(\)\s*=>\s*/g,"function $1 ");t.map(e=>r=r.replaceAll(e,`$${e}`)),document.getElementById("salidaPhp").value=r,console.log(t),Swal.fire({icon:"success",title:"Éxito",text:"Código convertido correctamente."})},copiarPHP=()=>{const e=document.getElementById("salidaPhp");e.value.trim()?navigator.clipboard.writeText(e.value).then(()=>{Swal.fire({icon:"success",title:"Correcto",text:"Código PHP copiado al portapapeles."})}).catch(()=>{Swal.fire({icon:"error",title:"Error",text:"No se pudo copiar el código PHP."})}):Swal.fire({icon:"warning",title:"Error",text:"No hay código PHP para copiar."})},limpiarPHP=()=>{document.getElementById("salidaPhp").value="",Swal.fire({icon:"info",title:"Borrado",text:"El área de salida se ha borrado."})};document.getElementById("convertiraPhp").addEventListener("click",convertirJsaPhp),document.getElementById("copiarPHP").addEventListener("click",copiarPHP),document.getElementById("limpiarPHP").addEventListener("click",limpiarPHP);